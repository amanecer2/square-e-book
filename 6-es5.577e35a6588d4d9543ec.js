function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{pCxb:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),r=n("tyNb"),o=n("itXk"),c=n("vkgz"),s=n("fXoL"),a=n("2Vo4"),u=n("LRne"),l=n("HDdC");function h(e,t){return new l.a(t?function(n){return t.schedule(f,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function f(e){var t=e.error;e.subscriber.error(t)}var b,d,v,p=n("pLZG"),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a)),y=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),m=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():r()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(y))(k),g=n("7o/Q"),_=n("EY2u"),O=((b=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(u.a)(this.value);case"E":return h(this.error);case"C":return Object(_.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new b("C"),b.undefinedValueNotification=new b("N",void 0),b),w=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new C(e,this.delay,this.scheduler))}}]),e}(),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new P(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(O.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(O.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(g.a),P=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n},I=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new S(e,this.compare,this.keySelector))}}]),e}(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(g.a),x=n("eIep"),B=n("JIr8"),j=n("tk/3"),A=((d=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"searchBook",value:function(e){var t=this;return Object(u.a)(e).pipe(Object(p.a)((function(e){return e.length>2})),function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,i=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new w(i,n))}}(1e3),(function(e){return e.lift(new I(void 0,void 0))}),Object(x.a)((function(n){return t.http.get("https://www.googleapis.com/books/v1/volumes?q=".concat(encodeURIComponent(e),"&maxResults=20"))})),Object(B.a)((function(e,t){return h(e)})))}}]),e}()).\u0275fac=function(e){return new(e||d)(s.Tb(j.a))},d.\u0275prov=s.Fb({token:d,factory:d.\u0275fac,providedIn:"root"}),d),T={mapper:{},books:[]},D=((v=function(){function e(){_classCallCheck(this,e),this._wishlist$=new a.a(T),this.wishlist$=this._wishlist$.asObservable()}return _createClass(e,[{key:"addWishlist",value:function(e){var t=Object.assign({},this.state),n=[].concat(_toConsumableArray(t.books),[e]);t.books=n,t.mapper=F(n),this.state=Object.assign(Object.assign({},this.state),t)}},{key:"removeWishlist",value:function(e){var t=Object.assign({},this.state),n=t.books.findIndex((function(t){return t.id===e}));if(n>-1){var i=t.books.filter((function(e,t){return t!==n}));t.books=i,t.mapper=F(i)}this.state=Object.assign(Object.assign({},this.state),t)}},{key:"state",get:function(){return this._wishlist$.getValue()},set:function(e){this._wishlist$.next(e)}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275prov=s.Fb({token:v,factory:v.\u0275fac,providedIn:"root"}),v);function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};return e.forEach((function(e,i){return n[e[t]]=i})),n}var N,R,z=((R=function(){function e(t,n){_classCallCheck(this,e),this.googleBooksService=t,this.wishlistStateService=n,this._data$=new a.a(void 0),this.data$=this._data$.asObservable(),this.lastQuery=""}return _createClass(e,[{key:"searchBook",value:function(e){var t=this;return this.googleBooksService.searchBook(e).pipe(Object(c.a)((function(n){t._data$.next(n),t.lastQuery=e})))}},{key:"addBookToWishlist",value:function(e){this.wishlistStateService.addWishlist(e)}},{key:"removeBookToWishlist",value:function(e){this.wishlistStateService.removeWishlist(e.id)}}]),e}()).\u0275fac=function(e){return new(e||R)(s.Tb(A),s.Tb(D))},R.\u0275prov=s.Fb({token:R,factory:R.\u0275fac,providedIn:"root"}),R),$=((N=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"itemID",value:function(e,t){return t.id}},{key:"index",value:function(e,t){return e}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275prov=s.Fb({token:N,factory:N.\u0275fac,providedIn:"root"}),N),E=n("QH85");function M(e,t){if(1&e){var n=s.Qb();s.Pb(0,"div",1),s.Pb(1,"div",2),s.Pb(2,"div",3),s.Kb(3,"img",4),s.Ob(),s.Pb(4,"div",5),s.Pb(5,"div",6),s.Pb(6,"h5",7),s.mc(7),s.Ob(),s.Pb(8,"article",8),s.mc(9),s.Ob(),s.Pb(10,"a",9),s.Xb("click",(function(){return s.hc(n),s.Zb().onModerDetailsHandler()})),s.mc(11,"show more details"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(12,"div",10),s.mc(13),s.Ob(),s.Ob()}if(2&e){var i=s.Zb();s.zb(3),s.cc("src",null==i.book.volumeInfo?null:null==i.book.volumeInfo.imageLinks?null:i.book.volumeInfo.imageLinks.smallThumbnail,s.ic),s.zb(4),s.nc(i.book.volumeInfo.title),s.zb(2),s.nc(i.book.volumeInfo.description),s.zb(4),s.oc(" ",i.book.volumeInfo.authors," ")}}var H,L,W=((H=function(){function e(){_classCallCheck(this,e),this.onBookDetails=new s.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onModerDetailsHandler",value:function(){this.onBookDetails.emit()}}]),e}()).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=s.Db({type:H,selectors:[["app-book-item"]],inputs:{book:"book"},outputs:{onBookDetails:"onBookDetails"},decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"row","no-gutters","h-75"],[1,"col-auto"],["alt","",1,"img-fluid","h-100",3,"src"],[1,"col"],[1,"card-block","px-2","h-100"],[1,"card-title","text-center","p-1","trim-text","w-100","h-50","d-flex","justify-content-center","align-items-center"],[1,"card-text","trim-text","w-100","h-50"],[1,"btn","btn-primary","text-white","w-100",3,"click"],[1,"card-footer","w-100","text-muted"]],template:function(e,t){1&e&&s.kc(0,M,14,4,"div",0),2&e&&s.cc("ngIf",t.book)},directives:[i.k],styles:[".card[_ngcontent-%COMP%] {\n      max-height: 300px;\n      height: 3000px;\n    }\n\n    .card-block[_ngcontent-%COMP%] {\n      max-height: 150px;\n    }"],changeDetection:0}),H),K=function(e,t){return{"btn-success":e,"btn-danger":t}},q=((L=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=s.Db({type:L,selectors:[["app-book-item-details"]],inputs:{book:"book",functions:"functions",isFavorite:"isFavorite"},decls:23,vars:10,consts:[[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-title"],[1,"card","modal-body"],[1,"row","no-gutters"],[1,"col-auto"],["alt","",1,"img-fluid",3,"src"],[1,"col"],[1,"card-block","px-2","h-100"],[1,"card-title","text-center","p-1","trim-text","w-100","d-flex","justify-content-center","align-items-center"],[1,"card-text","w-100","mh-50","overflow-auto"],[1,"card-footer","w-100","text-muted"],[1,"modal-footer"],["type","button",1,"btn",3,"ngClass","click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(s.Pb(0,"div",0),s.Pb(1,"button",1),s.Xb("click",(function(){return t.functions.onCancel()})),s.Pb(2,"span",2),s.mc(3,"\xd7"),s.Ob(),s.Ob(),s.Pb(4,"h4",3),s.mc(5),s.Ob(),s.Ob(),s.Pb(6,"div",4),s.Pb(7,"div",5),s.Pb(8,"div",6),s.Kb(9,"img",7),s.Ob(),s.Pb(10,"div",8),s.Pb(11,"div",9),s.Pb(12,"h5",10),s.mc(13),s.Ob(),s.Pb(14,"article",11),s.mc(15),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",12),s.mc(17),s.Ob(),s.Pb(18,"div",13),s.Pb(19,"button",14),s.Xb("click",(function(){return t.functions.onCustomFunction(!t.isFavorite)})),s.mc(20),s.Ob(),s.Pb(21,"button",15),s.Xb("click",(function(){return t.functions.onOk()})),s.mc(22,"close"),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.zb(5),s.nc(t.book.volumeInfo.title),s.zb(4),s.cc("src",t.book.volumeInfo.imageLinks.smallThumbnail,s.ic),s.zb(4),s.nc(t.book.volumeInfo.title),s.zb(2),s.nc(t.book.volumeInfo.description),s.zb(2),s.oc(" ",t.book.volumeInfo.authors," "),s.zb(2),s.cc("ngClass",s.ec(7,K,!t.isFavorite,t.isFavorite)),s.zb(1),s.oc("",t.isFavorite?"remove":"add"," favorite "))},directives:[i.i],styles:["[_nghost-%COMP%]   .card-text[_ngcontent-%COMP%]{overflow:auto;height:26vh!important}"],changeDetection:0}),L),J=["defaultModal"];function Q(e,t){if(1&e){var n=s.Qb();s.Pb(0,"app-book-item",9),s.Xb("onBookDetails",(function(){s.hc(n);var e=t.$implicit,i=s.Zb().ngIf,r=s.Zb();return r.onBookDetailsHandler(e,i[r.MAPPER.WISH_LIST].mapper[e.id]>-1)})),s.Ob()}2&e&&s.cc("book",t.$implicit)}function X(e,t){if(1&e){var n=s.Qb();s.Nb(0),s.Pb(1,"div",2),s.Pb(2,"div",3),s.Pb(3,"div",4),s.Pb(4,"div",5),s.Pb(5,"span",6),s.mc(6,"search"),s.Ob(),s.Ob(),s.Pb(7,"input",7),s.Xb("input",(function(e){return s.hc(n),s.Zb().onInputHandler(e.target.value)})),s.Ob(),s.Ob(),s.kc(8,Q,1,1,"app-book-item",8),s.Ob(),s.Ob(),s.Mb()}if(2&e){var i=t.ngIf,r=s.Zb();s.zb(7),s.cc("value",r.query),s.zb(1),s.cc("ngForOf",null==i[r.MAPPER.BOOKS]?null:i[r.MAPPER.BOOKS].items)("ngForTrackBy",r.trackByService.index)}}function Z(e,t){if(1&e&&s.Kb(0,"app-book-item-details",10),2&e){var n=t.$implicit;s.cc("functions",t.functions)("book",n.data.book)("isFavorite",n.data.isFavorite)}}var V,U,Y,G=((V=function(){function e(t,n,i,r){_classCallCheck(this,e),this.bookService=t,this.trackByService=n,this.modalService=i,this.wishlistStateService=r,this.MAPPER={BOOKS:0,WISH_LIST:1},this.query=this.bookService.lastQuery}return _createClass(e,[{key:"ngOnInit",value:function(){this.data$=Object(o.a)(this.bookService.data$,this.wishlistStateService.wishlist$)}},{key:"ngAfterViewInit",value:function(){}},{key:"onInputHandler",value:function(e){this.bookService.searchBook(e).subscribe()}},{key:"onBookDetailsHandler",value:function(e,t){var n=this;this.modalService.show({data:{book:e,isFavorite:t}},this.tpl).pipe(Object(c.a)((function(t){return n.addOrRemoveWishlist(t,e)}))).subscribe()}},{key:"addOrRemoveWishlist",value:function(e,t){e?this.bookService.addBookToWishlist(t):this.bookService.removeBookToWishlist(t)}}]),e}()).\u0275fac=function(e){return new(e||V)(s.Jb(z),s.Jb($),s.Jb(E.a),s.Jb(D))},V.\u0275cmp=s.Db({type:V,selectors:[["app-book"]],viewQuery:function(e,t){var n;1&e&&s.pc(J,!0),2&e&&s.fc(n=s.Yb())&&(t.tpl=n.first)},decls:4,vars:3,consts:[[4,"ngIf"],["defaultModal",""],[1,"row"],[1,"mb-3","col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"input-group","my-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"value","input"],[3,"book","onBookDetails",4,"ngFor","ngForOf","ngForTrackBy"],[3,"book","onBookDetails"],[3,"functions","book","isFavorite"]],template:function(e,t){1&e&&(s.kc(0,X,9,3,"ng-container",0),s.ac(1,"async"),s.kc(2,Z,1,3,"ng-template",null,1,s.lc)),2&e&&s.cc("ngIf",s.bc(1,1,t.data$))},directives:[i.k,i.j,W,q],pipes:[i.b],encapsulation:2}),V),ee=n("qfBg"),te=((U=function(){function e(t){_classCallCheck(this,e),this.userService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||U)(s.Jb(ee.a))},U.\u0275cmp=s.Db({type:U,selectors:[["app-books"]],decls:10,vars:3,consts:[[1,"p-2","d-flex","justify-content-around"],[1,"d-flex","align-self-center"],[1,""],["routerLink","/books/search","routerLinkActive","btn-primary",1,"btn","px-2"],["routerLink","/books/wishlist","routerLinkActive","btn-info",1,"btn"]],template:function(e,t){var n;1&e&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.mc(2),s.ac(3,"async"),s.Ob(),s.Pb(4,"div",2),s.Pb(5,"button",3),s.mc(6,"search"),s.Ob(),s.Pb(7,"button",4),s.mc(8,"wishlist"),s.Ob(),s.Ob(),s.Ob(),s.Kb(9,"router-outlet")),2&e&&(s.zb(2),s.oc(" hello ",null==(n=s.bc(3,1,t.userService.user$))?null:n.username," "))},directives:[r.b,r.c,r.e],pipes:[i.b],encapsulation:2,changeDetection:0}),U),ne=n("lJxs"),ie=((Y=function(){function e(t){_classCallCheck(this,e),this.wishlistStateService=t,this.data$=this.wishlistStateService.wishlist$.pipe(Object(ne.a)((function(e){return e.books})))}return _createClass(e,[{key:"removeBook",value:function(e){this.wishlistStateService.removeWishlist(e.id)}}]),e}()).\u0275fac=function(e){return new(e||Y)(s.Tb(D))},Y.\u0275prov=s.Fb({token:Y,factory:Y.\u0275fac}),Y);function re(e,t){if(1&e){var n=s.Qb();s.Pb(0,"tr"),s.Pb(1,"td",3),s.mc(2),s.Ob(),s.Pb(3,"td",3),s.mc(4),s.Ob(),s.Pb(5,"td",3),s.mc(6),s.Ob(),s.Pb(7,"td",3),s.Pb(8,"span",5),s.Xb("click",(function(){s.hc(n);var e=t.$implicit;return s.Zb(3).onRemoveBookHandler(e)})),s.mc(9,"remove"),s.Ob(),s.Ob(),s.Ob()}if(2&e){var i=t.$implicit,r=t.index;s.zb(2),s.oc("",r," "),s.zb(2),s.oc(" ",i.volumeInfo.title,""),s.zb(2),s.oc(" ",i.volumeInfo.authors[0],"")}}function oe(e,t){if(1&e&&(s.Nb(0),s.Pb(1,"table"),s.Pb(2,"thead"),s.Pb(3,"th",3),s.mc(4,"#"),s.Ob(),s.Pb(5,"th",3),s.mc(6,"name"),s.Ob(),s.Pb(7,"th",3),s.mc(8,"author"),s.Ob(),s.Kb(9,"th",3),s.Ob(),s.Pb(10,"tbody"),s.kc(11,re,10,3,"tr",4),s.Ob(),s.Ob(),s.Mb()),2&e){var n=s.Zb().ngIf,i=s.Zb();s.zb(11),s.cc("ngForOf",n)("ngForTrackBy",i.trackByService.itemID)}}function ce(e,t){1&e&&(s.Pb(0,"div",6),s.mc(1," You dont have any wishlist yet. Please feel free to search for one. "),s.Ob())}function se(e,t){if(1&e&&(s.Nb(0),s.kc(1,oe,12,2,"ng-container",1),s.kc(2,ce,2,0,"ng-template",null,2,s.lc),s.Mb()),2&e){var n=t.ngIf,i=s.gc(3);s.zb(1),s.cc("ngIf",n.length>0)("ngIfElse",i)}}var ae,ue,le=[{path:"",component:te,children:[{path:"",redirectTo:"search",pathMatch:"full"},{path:"search",component:G},{path:"wishlist",component:(ae=function(){function e(t,n){_classCallCheck(this,e),this.wishlistService=t,this.trackByService=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onRemoveBookHandler",value:function(e){this.wishlistService.removeBook(e)}}]),e}(),ae.\u0275fac=function(e){return new(e||ae)(s.Jb(ie),s.Jb($))},ae.\u0275cmp=s.Db({type:ae,selectors:[["app-wishlist"]],features:[s.yb([ie])],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noWishlists",""],[1,"text-center","px-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","badge-danger",3,"click"],[1,"d-flex","justify-content-center"]],template:function(e,t){1&e&&(s.kc(0,se,4,2,"ng-container",0),s.ac(1,"async")),2&e&&s.cc("ngIf",s.bc(1,1,t.wishlistService.data$))},directives:[i.k,i.j],pipes:[i.b],encapsulation:2,changeDetection:0}),ae)}]}],he=((ue=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:ue}),ue.\u0275inj=s.Gb({factory:function(e){return new(e||ue)},imports:[[r.d.forChild(le)],r.d]}),ue),fe=n("PCNd");n.d(t,"BooksModule",(function(){return de}));var be,de=((be=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:be}),be.\u0275inj=s.Gb({factory:function(e){return new(e||be)},providers:[],imports:[[i.c,he,fe.a]]}),be)}}]);